{% extends 'organizer/base.html'%}


{% block title %}
	Trip Details
{% endblock %}


{% block body %}
 <div class="col-sm-12">
  <div class="well">
	Destination : {{ trip.destination }}
	Type : {{ trip.trip_type }}
  </div>
</div>

 <div class="col-sm-12">
  <div class="well">
	<div id="hotel">
		Hotel : {{ trip.hotel }}<br>
		Hotel Price : <div id="hotelPrice">{{ trip.hotel_price }}</div><br>
		<button type="button" id="editHotel" >Edit</button>
	</div>
	
	<form id="hotel_edit_form" name="input" action="{% url 'organizer:hotel_change' trip.id %}" method="post" style="display: none;">
		{% csrf_token %}
			<label for="comment">Edit:</label> <input id="comment" type="text" name="hotel" value="{{ trip.hotel }}"/>
			<label for="comment">Edit:</label> <input id="comment" type="text" name="hotel_price" value="{{ trip.hotel_price }}"/>
		<input type="submit" value="Submit" />
		<input type="button" value="Cancel" id="cancelEditHotel" />
	</form>
  </div>
</div>

 <div class="col-sm-12">
  <div class="well">
	
	
	
	<div id="flight">
		Flight Number :    {{ trip.flight_no }}<br>
		Flight Price :    <div id="flightPrice">{{ trip.flight_price }}</div><br>
		<button type="button" id="editFlight" >Edit</button>
	</div>
	
	<form id="flight_edit_form" name="input" action="{% url 'organizer:flight_change' trip.id %}" method="post" style="display: none;">
		{% csrf_token %}
			<label for="comment">Edit:</label> <input id="comment" type="text" name="flight_no" value="{{ trip.flight_no }}"/>
			<label for="comment">Edit:</label> <input id="comment" type="text" name="flight_price" value="{{ trip.flight_price }}"/>
		<input type="submit" value="Submit" />
		<input type="button" value="Cancel" id="cancelEditFlight" />
	</form>
	
	
	
	
  </div>
</div>

 <div class="col-sm-12">
  <div class="well">
	
	
	
	<div id="transport">
		Transport Company :    {{ trip.transport_company }}<br>
		
		Transport Price :    <div id="transportPrice">{{ trip.transport_price }}</div><br>
		<button type="button" id="editTransport" >Edit</button>
	</div>

	<form id="transport_edit_form" name="input" action="{% url 'organizer:transport_change' trip.id %}" method="post" style="display: none;">
		{% csrf_token %}
			<label for="comment">Edit:</label> <input id="comment" type="text" name="transport_company" value="{{ trip.transport_company }}"/>
			<label for="comment">Edit:</label> <input id="comment" type="text" name="transport_price" value="{{ trip.transport_price }}"/>
		<input type="submit" value="Submit" />
		<input type="button" value="Cancel" id="cancelEditTransport" />
	</form>
	
	
	
	
  </div>
</div>




<div class="col-sm-12">
  <div class="well">
	<div id="total">
		<div id="totalLable">
			Total Price :
		</div>
		<div id="totalSum">
		</div>
	</div>
	</div>
</div>




{% if error_message %}
	<p><strong>{{ error_message }}</strong></p>
	
{% endif %}




<div class="col-sm-12">
 <form action="{% url 'organizer:delete_trip' trip.id %}" method="post" style="display: inline;">
	{% csrf_token %}
	<input type="hidden" name="trip_id" value="{{ trip.id }}" />
	<button type="submit" class="btn btn-danger btn-xs">
		<span class="glyphicon glyphicon-remove"></span>&nbsp; Delete
	</button>
</form>
</div>


<script>
$(function() {
	var sum = 0;
	
	 sum += +($(this).find('#hotelPrice').text());
	 sum += +($(this).find('#flightPrice').text()); 
	 sum += +($(this).find('#transportPrice').text());
	
	$("#totalSum").html(sum);
});


$('#editHotel').click(function(){
   $('#hotel').hide();
   $('#hotel_edit_form').show();
});

$('#cancelEditHotel').click(function(){
   $('#hotel').show();
   $('#hotel_edit_form').hide();
});


$('#editFlight').click(function(){
   $('#flight').hide();
   $('#flight_edit_form').show();
});

$('#cancelEditFlight').click(function(){
   $('#flight').show();
   $('#flight_edit_form').hide();
});

$('#editTransport').click(function(){
   $('#transport').hide();
   $('#transport_edit_form').show();
});

$('#cancelEditTransport').click(function(){
   $('#transport').show();
   $('#transport_edit_form').hide();
});


</script>

{% endblock %}

